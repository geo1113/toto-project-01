# Blueprint: 꿀팁 저장소

## 프로젝트 개요

일상의 유용한 팁과 정보를 공유하고 소통하는 것을 목표로 하는 블로그 형태의 웹 애플리케이션입니다.

## 스타일 및 디자인 가이드

- **레이아웃:** 반응형 웹 디자인을 적용하여 모바일과 데스크톱 환경 모두에서 최적의 사용자 경험을 제공합니다.
- **색상 팔레트:** 라이트/다크 모드를 지원하여 사용자의 시각적 편안함을 고려합니다.
- **폰트:** 가독성이 높은 시스템 폰트를 사용하여 명확한 정보 전달을 목표로 합니다.
- **상호작용:** 직관적인 LNB 메뉴와 검색 기능을 통해 원하는 정보에 쉽게 접근할 수 있습니다.

## 기능 명세

- **한/영 키보드 변환기:**
  - **자동 언어 감지:** 사용자가 텍스트를 입력하면, 한글 포함 여부를 자동으로 감지하여 별도의 선택 없이 '한→영' 또는 '영→한' 변환을 수행합니다.
  - **UI:** 좌/우 두 개의 텍스트 영역(원본, 결과), 입력/결과 텍스트 교환 버튼, 각 텍스트 영역 하단의 바이트(byte) 표시 공간으로 구성됩니다.
  - **실시간 변환:** 사용자가 원본 텍스트 영역에 키보드로 입력하거나 텍스트를 붙여넣으면, 자동 감지 로직에 따라 실시간으로 변환된 결과를 보여줍니다.
  - **바이트 계산:** 원본과 결과 텍스트의 바이트 크기를 각각 계산하여 표시합니다.

- **계층형 게시물 구조 (LNB):**
  - `posts.json`에 `subPosts` 배열을 정의하여 게시물 간의 부모-자식 관계를 설정할 수 있습니다.
  - LNB에서 부모 게시물 옆에 토글 아이콘(▼/▲)을 표시하여 하위 게시물 목록을 관리합니다.

- **동적 콘텐츠 로딩:**
  - 모든 스크립트 로직을 관리하는 `js/main.js`가 중심이 되어 동작합니다.
  - LNB에서 게시물 링크 클릭 시, 페이지 전체를 새로고침하지 않고 해당 HTML 콘텐츠만 `#main-content` 영역으로 동적으로 불러옵니다.
  - URL의 해시(`#`)를 사용하여 현재 보고 있는 콘텐츠의 상태를 유지하고, 뒤로/앞으로 가기 버튼으로 탐색이 가능합니다.

- **모듈화된 스크립트 실행:**
  - `js/main.js`는 동적으로 콘텐츠를 로드한 후, 해당 콘텐츠에 필요한 스크립트를 초기화합니다. 예를 들어 `posts/post1.html`이 로드되면 `js/converter.js`의 `initConverter()` 함수를 호출하여 변환기를 활성화시킵니다. 

- **게시물 관리:** `posts.json`을 통해 게시물 목록을 동적으로 관리하며, 개별 HTML 파일을 통해 콘텐츠를 제공합니다.

- **다크 모드:** 사용자가 테마를 전환할 수 있는 버튼을 제공하며, 선택은 `localStorage`에 저장됩니다.

- **검색:** LNB 하단의 검색창을 통해 게시물 제목을 기준으로 실시간 필터링합니다.

- **댓글 (Disqus):** 동적 콘텐츠 로딩에 맞춰 각 페이지마다 올바른 댓글 스레드가 로드되도록 구현되었습니다.

- **다국어 지원 (Google Translate):** 스크립트 동적 로딩을 통해 필요시 Google 번역 위젯을 초기화합니다.

---

## 배포 문제 해결: Cloudflare 서브모듈 오류

### 문제 발생
- 2026년 2월 21일, Cloudflare Pages 배포가 `Failed: error occurred while updating repository submodules` 오류 메시지와 함께 지속적으로 실패함.

### 원인 분석
- `git ls-files --stage` 명령어를 통해 Git 인덱스를 분석한 결과, 과거에 사용했던 `gh-pages` 배포 도구의 캐시 파일(`node_modules/.cache/gh-pages/...`)이 '서브모듈'로 잘못 등록되어 있었음.
- Cloudflare 배포 시스템이 이 존재하지 않는 서브모듈을 복제하려고 시도하다가 권한/경로 문제로 오류가 발생함.
- 추가적으로, 배포 실패 로그가 `posts.json` 파일에 섞여 들어가 JSON 형식을 손상시키는 문제도 발견됨.

### 해결 조치
1.  **서브모듈 제거:** `git rm --cached <path>` 명령을 실행하여 Git 인덱스에서 잘못된 서브모듈 참조를 완전히 삭제함.
2.  **.gitignore 추가:** 향후 `node_modules`와 같은 캐시/로그 파일이 실수로 커밋되는 것을 방지하기 위해 `.gitignore` 파일을 생성하고 관련 경로를 추가함.
3.  **JSON 파일 복구:** 손상된 `posts.json` 파일에서 불필요한 로그를 제거하고 유효한 형식으로 수정함.
4.  **배포 재시도:** 위의 모든 수정 사항을 "fix: 배포 실패를 유발하는 서브모듈 제거 및 posts.json 정리" 커밋으로 푸시함.

### 현재 상태: 빌드 캐시 문제
- 서브모듈 문제 해결 후에도 Cloudflare가 최신 커밋(`cfbcba5`)이 아닌 이전 커밋(`9ba479b`)으로 빌드를 시도하는 문제가 발생함.
- 이 문제를 해결하기 위해, 이 `blueprint.md` 파일을 수정하여 새로운 커밋을 생성하고 강제로 Cloudflare가 최신 코드를 가져가도록 유도함.